---
import PageLayout from '../../layouts/PageLayout.astro';
import FilterDropdown from '../../components/FilterDropdown.astro';
import ProductCarousel from '../../components/ProductCarousel.astro';
import ProductModal from '../../components/ProductModal.astro';
import SolutionsHero from '../../components/SolutionsHero.astro';
import SolutionsCarousel from '../../components/SolutionsCarousel.astro';
import CTASection from '../../components/CTASection.astro';
import { getAllProducts, getAllArticles, getHomeContent } from '../../utils/prismic';
import { filterProducts, getDefaultFilterState, searchParamsToFilterState } from '../../utils/filterLogic';
import type { Producto, FilterState } from '../../types';

const lang = 'pt';

// Fetch products and articles
let allProducts: Producto[] = [];
let articles: any[] = [];
let prismicHomeContent = null;

try {
  allProducts = await getAllProducts(lang);
  articles = await getAllArticles(lang);
  prismicHomeContent = await getHomeContent(lang);
} catch (error) {
  console.error('Error fetching data:', error);
}

// Use Prismic content if available, otherwise use mockup
const homeContent = prismicHomeContent || {
  hero: {
    title: 'DEKALB EXPERIENCE',
    claim: 'Sempre ao seu lado',
  },
  solutions: {
    integralMaiz: 'Solu√ß√µes Integrais para Milho',
    fieldview: 'FieldView',
    protection: 'Prote√ß√£o de Cultivo',
    preceon: 'Smart Corn System PRECEON',
    avoidProblems: 'Evite problemas com seu milho',
  },
};

// Get filter state from URL params
const url = Astro.url;
const filterState: FilterState = searchParamsToFilterState(url.searchParams);

// Filter products based on current filter state
const filteredProducts = filterProducts(allProducts, filterState);

// Get latest 4 articles for blog preview
const latestArticles = articles.slice(0, 4);
---

<PageLayout title={homeContent.hero.title} description={homeContent.hero.claim} lang={lang}>
  <!-- Hero + Products Section (Desktop) -->
  <section class="hero-products-section">
    <div class="hero-products-background"></div>
    <div class="hero-products-overlay"></div>
    <div class="hero-products-container">
      <!-- Hero Content -->
      <div class="hero-products-header">
        <h1 class="hero-products-title">{homeContent.hero.title}</h1>
        <p class="hero-products-subtitle">{homeContent.hero.claim}</p>
      </div>
      
      <!-- Filters -->
      <div class="hero-products-filters">
        <FilterDropdown filterState={filterState} lang={lang} />
      </div>
      
      <!-- Products Carousel -->
      <div class="hero-products-carousel">
        <ProductCarousel products={filteredProducts} lang={lang} carouselId="product-carousel-desktop" />
      </div>
    </div>
  </section>

  <!-- Mobile: Separate Hero Section -->
  <section class="mobile-hero-section">
    <SolutionsHero 
      title={homeContent.hero.title}
      subtitle={homeContent.hero.claim}
    />
  </section>

  <!-- Mobile: Products Section -->
  <section id="productos" class="mobile-products-section">
    <div class="container">
      <h2 class="section-title">Produtos</h2>
      <FilterDropdown filterState={filterState} lang={lang} />
      <ProductCarousel products={filteredProducts} lang={lang} carouselId="product-carousel-mobile" />
    </div>
  </section>

  <!-- Filter Script (works for both desktop and mobile) -->
  <script define:vars={{ filterStateJson: JSON.stringify(filterState), allProductsJson: JSON.stringify(allProducts), filteredProductsJson: JSON.stringify(filteredProducts) }}>
        // Parse filterState from JSON (Astro serialization)
        const filterState = JSON.parse(filterStateJson);
        const allProducts = JSON.parse(allProductsJson);
        const filteredProducts = JSON.parse(filteredProductsJson);
        
        // Expose allProducts globally for FilterDropdown component
        window.__allProducts = allProducts;
        
        // ALSO parse from current URL to ensure we have the latest state
        const urlParams = new URLSearchParams(window.location.search);
        const urlFilterState = {
          tipoSemilla: urlParams.get('tipo') === 'maiz' || urlParams.get('tipo') === 'colza' ? urlParams.get('tipo') : undefined,
          uso: urlParams.get('uso') || undefined,
          zona: urlParams.get('zona') || undefined,
          proteccion: urlParams.get('proteccion') || 'todos',
        };
        
        // Client-side filtering fallback (if server filtering didn't work correctly)
        if (allProducts.length > 0) {
          let clientFiltered = [...allProducts];
          
          if (urlFilterState.tipoSemilla) {
            clientFiltered = clientFiltered.filter(p => p.tipo_semilla?.toLowerCase() === urlFilterState.tipoSemilla);
          }
          if (urlFilterState.uso) {
            clientFiltered = clientFiltered.filter(p => p.uso?.toLowerCase() === urlFilterState.uso);
          }
          if (urlFilterState.zona) {
            clientFiltered = clientFiltered.filter(p => p.zona?.toLowerCase() === urlFilterState.zona);
          }
          if (urlFilterState.proteccion && urlFilterState.proteccion !== 'todos') {
            clientFiltered = clientFiltered.filter(p => p.proteccion?.toLowerCase() === urlFilterState.proteccion);
          }
          
          // Update carousel with client-filtered products if needed
          if (clientFiltered.length !== filteredProducts.length) {
            setTimeout(() => {
              const event = new CustomEvent('updateProducts', { detail: { products: clientFiltered } });
              document.dispatchEvent(event);
            }, 100);
          }
        }
  </script>

  <!-- Solutions Section -->
  <section id="soluciones" class="solutions-section">
    <div class="container">
      <h2 class="section-title">Solu√ß√µes</h2>
      <p class="section-description">Descubra nossas solu√ß√µes integrais para o cultivo de milho.</p>
      <SolutionsCarousel 
        solutions={[
          { 
            id: 'acceleron',
            name: 'Acceleron',
            description: 'Protege e nutre seu milho com Acceleron¬Æ para uma cultura saud√°vel e produtiva.',
            logo: '/Logo_Acceleron.svg',
            icon: '/Icon_Acceleron.svg'
          },
          { 
            id: 'fieldshield',
            name: 'FieldShield',
            description: 'Fortalece seu milho. FieldShield reduz o risco de doen√ßas e melhora o rendimento.',
            logo: '/Logo_Fieldshield.svg',
            icon: '/Icon_FieldShield.svg'
          },
          { 
            id: 'silo-extra',
            name: 'Silo Extra',
            description: 'Mais qualidade, mais quantidade. Descubra os h√≠bridos SiloExtra e melhore sua colheita.',
            logo: '/Logo_SiloExtra.svg',
            icon: '/Icon_SiloExtra.svg'
          },
          { 
            id: 'preceon',
            name: 'Preceon',
            description: 'Proteja seu milho desde o primeiro dia com as solu√ß√µes Bayer mais eficazes.',
            logo: '/Logo_Preceon.svg',
            icon: '/Icon_Preceon.svg'
          },
          { 
            id: 'fieldview',
            name: 'FieldView',
            description: 'Aproveite seus dados. Acesse FieldView e tome decis√µes mais inteligentes em cada campanha.',
            logo: '/Logo_Fieldview.svg',
            icon: '/Icon_FieldView.svg'
          },
        ]}
        lang={lang}
      />
    </div>
  </section>

  <!-- FieldView Section -->
  <section class="fieldview-section">
    <div class="container">
      <CTASection
        title={homeContent.solutions.fieldview}
        description="Plataforma digital para gest√£o agr√≠cola avan√ßada"
        buttonText="Saber mais"
        buttonLink="/pt/fieldview"
        variant="primary"
        lang={lang}
      />
    </div>
  </section>

  <!-- Protecci√≥n de Cultivo Section -->
  <section class="protection-section">
    <div class="container">
      <CTASection
        title={homeContent.solutions.protection}
        description="Solu√ß√µes inovadoras para a prote√ß√£o das suas culturas"
        buttonText="Ver solu√ß√µes"
        buttonLink="/pt/#soluciones"
        variant="secondary"
        lang={lang}
      />
    </div>
  </section>

  <!-- Preceon Section -->
  <section class="preceon-section">
    <div class="container">
      <div class="content-left-card-wrapper">
        <div class="content-left-card-content">
          <div class="content-left-card-logo">
            <img
              src="/Logo_Preceon.svg"
              alt="Preceon"
            />
          </div>
          <h2 class="content-left-card-title">
            O futuro do milho est√° aqui, acesse para descobrir.
          </h2>
          <a
            href="/pt/preceon"
            class="btn btn-primary"
            >Descobrir</a
          >
        </div>
        <div class="content-left-card-image">
          <picture>
            <source
              media="(max-width: 767px)"
              srcset="/card_background_mobile-preceon.jpg"
            />
            <img
              src="/card_background-preceon.png"
              alt="Preceon Pack"
            />
          </picture>
        </div>
      </div>
    </div>
  </section>

  <!-- Calculadora de Densidades Section -->
  <section class="calculator-section">
    <div class="container">
      <div class="content-right-card-wrapper">
        <div class="content-right-card-image">
          <picture>
            <source
              media="(max-width: 767px)"
              srcset="/card_background_mobile-calculadora.jpg"
            />
            <img
              src="/card_background-calculadora.png"
              alt="Calculadora de densidades"
            />
          </picture>
        </div>
        <div class="content-right-card-content">
          <h2 class="content-right-card-title">Calculador de densidades</h2>
          <p class="content-right-card-description">
            Use nossa ferramenta interativa para calcular a densidade de
            semeadura recomendada e o n√∫mero de sacos DEKALB necess√°rios.
          </p>
          <a
            href="/pt/calculadora"
            class="btn btn-primary"
            >Acesse ao calculador</a
          >
        </div>
      </div>
    </div>
  </section>

  <!-- Guides Section -->
  <section class="guides-section">
    <div class="container">
      <div class="content-left-card-wrapper">
        <div class="content-left-card-content">
          <h2 class="content-left-card-title">Evite problemas com seu milho</h2>
          <p>
            Descubra nossos guias para ajud√°-lo a proteger sua cultura de milho.
          </p>
          <a
            href="/pt/preceon"
            class="btn btn-primary"
            >Ver guias de cultivo</a
          >
        </div>
        <div class="content-left-card-image">
          <picture>
            <source
              media="(max-width: 767px)"
              srcset="/card_background_mobile-guides.jpg"
            />
            <img
              src="/card_background-guides.png"
              alt="Gu√≠as de cultivo"
            />
          </picture>
        </div>
      </div>
    </div>
  </section>

  <!-- Catalogs Section -->
  <section class="catalogs-section">
    <div class="container">
      <div class="content-right-card-wrapper">
        <div class="content-right-card-image">
          <picture>
            <source
              media="(max-width: 767px)"
              srcset="/card_background_mobile-catalogs.jpg"
            />
            <img
              src="/card_background-catalogs.png"
              alt="Cat√°logos"
            />
          </picture>
        </div>
        <div class="content-right-card-content">
          <h2 class="content-right-card-title">
            Obtenha todos os nossos cat√°logos em um s√≥ lugar.
          </h2>
          <p class="content-right-card-description">
            Solu√ß√µes, Guias, Cat√°logos. Escolha seu pa√≠s e acesse.
          </p>
          <a
            href="/pt/calculadora"
            class="btn btn-primary"
            >Ver cat√°logos</a
          >
        </div>
      </div>
    </div>
  </section>

  <!-- Cat√°logos Download Section -->
  <section class="catalogs-download-section">
    <div class="container">
      <h2 class="section-title">Download de Cat√°logos</h2>
      <div class="catalogs-grid">
        <a href="/es/catalogo" class="catalog-card">
          <span class="catalog-flag">üá™üá∏</span>
          <span class="catalog-name">Espanha</span>
        </a>
        <a href="/pt/catalogo" class="catalog-card">
          <span class="catalog-flag">üáµüáπ</span>
          <span class="catalog-name">Portugal</span>
        </a>
      </div>
    </div>
  </section>

  <!-- News Section -->
  {
    latestArticles.length > 0 && (
      <section class="news-section">
        <div class="container">
          <div class="news-header">
            <h2 class="news-title">Atualidade Dekalb</h2>
            <p class="news-subtitle">
              Not√≠cias, eventos e novidades para estar sempre atualizado com tudo
              que acontece no mundo Dekalb.
            </p>
          </div>
          <div class="news-grid">
            {latestArticles.map((article) => (
              <article class="news-card">
                <div class="news-card-image-wrapper">
                  {article.imagen_destacada?.url && (
                    <img
                      src={article.imagen_destacada.url}
                      alt={article.imagen_destacada.alt || article.titulo}
                      class="news-card-image"
                      loading="lazy"
                    />
                  )}
                  <span class="news-card-tag">{article.categoria}</span>
                </div>
                <div class="news-card-content">
                  <p class="news-card-date">
                    {new Date(article.fecha).toLocaleDateString("pt-PT", {
                      day: "2-digit",
                      month: "long",
                      year: "numeric",
                    })}
                  </p>
                  <h3 class="news-card-title">{article.titulo}</h3>
                  <a
                    href={`/pt/blog/${article.slug}`}
                    class="news-card-link"
                  >
                    Ler mais
                  </a>
                </div>
              </article>
            ))}
          </div>
          <div class="news-footer">
            <p class="news-footer-text">
              Continue conectado √† inova√ß√£o e ao campo.
            </p>
            <a
              href="/pt/blog"
              class="btn btn-primary news-footer-button"
            >
              Ver todas as not√≠cias
            </a>
          </div>
        </div>
      </section>
    )
  }

  <ProductModal lang={lang} />
</PageLayout>

<style>
  /* Hero + Products Combined Section (Desktop) */
  .hero-products-section {
    position: relative;
    min-height: 80vh;
    display: none;
    overflow: hidden;
  }

  @media (min-width: 1024px) {
    .hero-products-section {
      display: block;
    }
  }

  .hero-products-background {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: url('/Frame_1410119213.jpg');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    z-index: 0;
  }

  .hero-products-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(to bottom, rgba(0, 0, 0, 0.3) 0%, rgba(0, 0, 0, 0.1) 50%, rgba(0, 0, 0, 0.2) 100%);
    z-index: 1;
  }

  .hero-products-container {
    position: relative;
    z-index: 2;
    padding-top: calc(var(--header-height) + var(--spacing-8));
    padding-bottom: var(--spacing-16);
    display: flex;
    flex-direction: column;
    gap: var(--spacing-6);
    min-height: calc(100vh - var(--header-height));
    width: 100%;
    max-width: 100%;
  }

  /* Hide section title in desktop hero-products section */
  .hero-products-section .section-title {
    display: none;
  }

  .hero-products-header {
    text-align: center;
    color: var(--color-white);
  }

  .hero-products-title {
    font-size: var(--hero-title-size);
    font-weight: var(--font-weight-bold);
    color: var(--color-white);
    margin-bottom: var(--spacing-3);
    line-height: var(--line-height-tight);
    letter-spacing: var(--letter-spacing-normal);
  }

  .hero-products-subtitle {
    font-size: var(--hero-subtitle-size);
    color: var(--color-white);
    margin: 0;
    line-height: var(--line-height-normal);
    font-weight: var(--font-weight-regular);
  }

  .hero-products-filters {
    display: flex;
    justify-content: center;
  }

  .hero-products-carousel {
    width: 100%;
  }

  /* Mobile: Separate Sections */
  .mobile-hero-section {
    display: block;
  }

  .mobile-products-section {
    display: block;
    padding: var(--spacing-16) 0;
    background-color: var(--color-white);
  }

  @media (min-width: 1024px) {
    .mobile-hero-section,
    .mobile-products-section {
      display: none;
    }
  }

  .products-section {
    padding: var(--spacing-16) 0;
    background-color: var(--color-white);
  }

  .section-title {
    font-size: var(--font-size-4xl);
    font-weight: var(--font-weight-bold);
    text-align: center;
    margin-bottom: var(--spacing-4);
    color: var(--color-white);
    line-height: var(--line-height-tight);
  }

  .section-description {
    font-size: var(--font-size-lg);
    text-align: center;
    margin-bottom: var(--spacing-8);
    color: var(--color-white);
    line-height: var(--line-height-relaxed);
    max-width: 800px;
    margin-left: auto;
    margin-right: auto;
  }

  .solutions-section {
    padding: var(--spacing-16) 0;
    background: var(--gradient-hero-solutions);
  }

  .solutions-section .section-title,
  .solutions-section .section-description {
    color: var(--color-white);
  }

  .fieldview-section,
  .protection-section {
    padding: var(--spacing-12) 0;
  }

  /* Generic Card Sections - Layout Styles */
  .preceon-section,
  .calculator-section,
  .guides-section,
  .catalogs-section {
    padding: var(--spacing-16) 0;
    background: transparent;
    color: var(--color-text-primary);
  }

  /* Content Left Card (30% contenido / 70% imagen) */
  .content-left-card-wrapper {
    display: flex;
    flex-direction: column;
    gap: 0;
    align-items: stretch;
    background: var(--color-white);
    border-radius: 12px 12px 12px 12px;
    overflow: hidden;
    min-height: 500px;
    position: relative;
  }

  .content-left-card-content {
    text-align: left;
    padding: var(--spacing-12) var(--spacing-8);
    display: flex;
    flex-direction: column;
    justify-content: center;
    background: linear-gradient(to right, #e9e7e4 0%, #ffffff 100%);
    position: relative;
    z-index: 2;
    order: 2;
  }

  .content-left-card-logo {
    margin-bottom: var(--spacing-8);
    display: block;
  }

  .content-left-card-logo img {
    height: 110px;
    width: auto;
    object-fit: cover;
    display: block;
  }

  .content-left-card-content .btn {
    width: auto;
    max-width: 212px;
    display: inline-block;
    text-align: center;
  }

  .content-left-card-image {
    display: block;
    position: relative;
    overflow: hidden;
    order: 1;
    border-radius: 12px 12px 0 0;
  }

  .content-left-card-image img,
  .content-left-card-image picture {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
  }

  /* Mobile: Content Left Card - Imagen primero, contenido despu√©s */
  @media (max-width: 767px) {
    .content-left-card-image {
      border-radius: 12px 12px 0 0;
      min-height: 200px;
      max-height: 300px;
    }

    .content-left-card-image img,
    .content-left-card-image picture {
      border-radius: 12px 12px 0 0;
    }

    .content-left-card-content {
      border-radius: 0 0 12px 12px;
    }
  }

  /* Desktop: Content Left Card - 30% contenido / 70% imagen */
  @media (min-width: 1024px) {
    .content-left-card-wrapper {
      display: grid;
      grid-template-columns: 30% 70%;
      gap: 0;
      min-height: 400px;
      border-radius: 60px 12px 60px 12px; /* Superior izquierda e inferior derecha con radio mayor */
    }

    .content-left-card-content {
      padding: var(--spacing-12) var(--spacing-12);
      border-radius: 60px 0 0 0px; /* Solo esquina superior izquierda redondeada */
      order: unset;
    }

    .content-left-card-image {
      display: block;
      border-radius: 0 12px 60px 0; /* Solo esquina inferior derecha redondeada */
      order: unset;
    }

    .content-left-card-image img,
    .content-left-card-image picture {
      object-fit: fill;
    }
  }

  /* Content Right Card (65% imagen / 35% contenido) */
  .content-right-card-wrapper {
    display: flex;
    flex-direction: column;
    gap: 0;
    align-items: stretch;
    background: var(--color-white);
    border-radius: 12px 12px 12px 12px;
    overflow: hidden;
    min-height: 400px;
    position: relative;
  }

  .content-right-card-content {
    text-align: left;
    padding: var(--spacing-12) var(--spacing-8);
    display: flex;
    flex-direction: column;
    justify-content: center;
    position: relative;
    z-index: 2;
    order: 2;
  }

  .content-right-card-title,
  .content-left-card-title {
    font-size: 1.7rem;
    font-weight: 700;
    font-family: var(--font-family-primary);
    color: #00527f;
    margin-bottom: var(--spacing-6);
    line-height: 1.8rem;
    max-width: 345px;
    display: block;
  }
  .content-left-card-title {
    max-width: 423px;
  }

  .content-right-card-description {
    font-size: 20px;
    font-weight: 400;
    font-family: var(--font-family-primary);
    color: var(--color-text-primary);
    margin-bottom: var(--spacing-8);
    line-height: 26px;
    max-width: 345px;
    display: block;
  }

  .content-right-card-content .btn {
    width: auto;
    max-width: 212px;
    display: inline-block;
    text-align: center;
  }

  .content-right-card-image {
    display: block;
    position: relative;
    overflow: hidden;
    order: 1;
    border-radius: 12px 12px 0 0;
  }

  .content-right-card-image img,
  .content-right-card-image picture {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
  }

  /* Mobile: Content Right Card - Imagen primero, contenido despu√©s */
  @media (max-width: 767px) {
    .content-right-card-image {
      border-radius: 12px 12px 0 0;
      min-height: 200px;
      max-height: 300px;
    }

    .content-right-card-image img,
    .content-right-card-image picture {
      border-radius: 12px 12px 0 0;
    }

    .content-right-card-content {
      border-radius: 0 0 12px 12px;
    }
  }

  /* Desktop: Content Right Card - 65% imagen / 35% contenido */
  @media (min-width: 1024px) {
    .content-right-card-wrapper {
      display: grid;
      grid-template-columns: 65% 35%;
      gap: 0;
      min-height: 400px;
      border-radius: 60px 12px 60px 12px; /* Superior derecha e inferior izquierda con radio mayor */
      background: linear-gradient(to left, #e9e7e4 0%, #ffffff 100%);
    }

    .content-right-card-content {
      padding: var(--spacing-12) var(--spacing-12);
      order: unset;
    }

    .content-right-card-image {
      display: block;
      order: unset;
    }

    .content-right-card-image img,
    .content-right-card-image picture {
      object-fit: fill;
    }
  }

  .avoid-problems-section {
    padding: var(--spacing-12) 0;
    background-color: var(--color-gray-50);
  }

  .catalogs-download-section {
    padding: var(--spacing-16) 0;
    background-color: var(--color-white);
  }

  .catalogs-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--spacing-6);
    max-width: 600px;
    margin: 0 auto;
  }

  .catalog-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--spacing-3);
    padding: var(--spacing-6);
    background: var(--color-white);
    border: none;
    border-radius: var(--card-border-radius);
    text-decoration: none;
    transition: all var(--transition-base);
  }

  @media (max-width: 767px) {
    .catalog-card {
      background: var(--catalog-button-bg-mobile);
      color: var(--catalog-button-text-mobile);
    }
  }

  @media (min-width: 768px) {
    .catalog-card {
      background: var(--catalog-button-bg-desktop);
      color: var(--catalog-button-text-desktop);
    }
  }

  .catalog-card:hover {
    opacity: 0.9;
    transform: translateY(-2px);
  }

  .catalog-flag {
    font-size: 3rem;
  }

  .catalog-name {
    font-weight: var(--font-weight-bold);
    font-size: var(--button-font-size);
    color: inherit;
  }

  /* News Section */
  .news-section {
    padding: var(--spacing-16) 0;
    background-color: var(--color-white);
  }

  .news-header {
    text-align: center;
    margin-bottom: var(--spacing-12);
  }

  .news-title {
    font-size: 48px;
    font-weight: 700;
    font-family: var(--font-family-primary);
    color: #00527f;
    margin: 0 0 var(--spacing-4) 0;
    letter-spacing: 0.96px;
    line-height: 48px;
  }

  .news-subtitle {
    font-size: 20px;
    font-weight: 400;
    font-family: var(--font-family-primary);
    color: #313639;
    margin: 0;
    line-height: 26px;
    max-width: 645px;
    margin-left: auto;
    margin-right: auto;
  }

  .news-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: var(--spacing-6);
    margin-bottom: var(--spacing-12);
  }

  .news-card {
    background: linear-gradient(to bottom, #e9e7e4 0%, #ffffff 100%);
    border-radius: 12px;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    transition: all var(--transition-base);
  }

  .news-card:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-lg);
  }

  .news-card-image-wrapper {
    position: relative;
    width: 100%;
    height: 177px;
    overflow: hidden;
  }

  .news-card-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
  }

  .news-card-tag {
    position: absolute;
    top: 16px;
    left: 24px;
    background-color: #e9e7e4;
    color: #313639;
    padding: 4px 12px;
    border-radius: 100px;
    font-size: 14px;
    font-weight: 400;
    font-family: var(--font-family-primary);
    line-height: 18.2px;
    text-transform: capitalize;
  }

  .news-card-content {
    padding: var(--spacing-6);
    display: flex;
    flex-direction: column;
    gap: var(--spacing-4);
    flex: 1;
  }

  .news-card-date {
    font-size: 14px;
    font-weight: 400;
    font-family: var(--font-family-primary);
    color: #313639;
    margin: 0;
    line-height: 19.6px;
    text-transform: capitalize;
  }

  .news-card-title {
    font-size: 20px;
    font-weight: 500;
    font-family: var(--font-family-primary);
    color: #313639;
    margin: 0;
    line-height: 28px;
    flex: 1;
  }

  .news-card-link {
    font-size: 16px;
    font-weight: 700;
    font-family: var(--font-family-primary);
    color: #009ddb;
    text-decoration: none;
    display: inline-block;
    align-self: flex-start;
    transition: color var(--transition-base);
  }

  .news-card-link:hover {
    color: #005475;
    text-decoration: underline;
  }

  .news-footer {
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--spacing-6);
  }

  .news-footer-text {
    font-size: 20px;
    font-weight: 400;
    font-family: var(--font-family-primary);
    color: #313639;
    margin: 0;
    line-height: 26px;
  }

  .news-footer-button {
    width: 212px;
    height: 40px;
    border-radius: 26px;
  }

  @media (max-width: 1023px) {
    .news-grid {
      grid-template-columns: repeat(2, 1fr);
    }

    .news-title {
      font-size: 36px;
      line-height: 40px;
    }
  }

  @media (max-width: 767px) {
    .news-grid {
      grid-template-columns: 1fr;
    }

    .news-title {
      font-size: 32px;
      line-height: 36px;
    }

    .news-subtitle {
      font-size: 18px;
      line-height: 24px;
    }

    .catalogs-grid {
      grid-template-columns: 1fr;
    }
  }
</style>

